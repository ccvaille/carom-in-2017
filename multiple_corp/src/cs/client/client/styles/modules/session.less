// html, body {
//     .normalize();
// }
.btn() {
    display: inline-block;
    color: @white;
    line-height: 12px;
    /* padding: 9px 24px; */
    border-radius: 2px;
}
a.btn-blue {
    .btn();
    background: @btnBlue;
    border: 1px solid @btnBlue;
    &:hover {
        border: 1px solid tint(@btnBlue, 20%) ;
        background: tint(@btnBlue, 20%) ;
    }
    &:active {
        border: 1px solid shade(@btnBlue, 20%) ;
        background: shade(@btnBlue, 20%) ;
    }
}
.main-content {
    div.cs-chat{
        padding: 0;
    }
}
.cs-chat{
    position: relative;
    font: normal 12px/24px 'Microsoft YaHei';
    color: @blackText;
    .clearfix();

    .msg-history{
        width:260px;
        height:100%;
        float:right;
        border-left:1px #ebebeb solid;
        position:relative;
        z-index: 2;
        background-color: white;
        .top-bar{
            height:30px;
            border-bottom:1px #ebebeb solid;
            background:#f7f7f7;
            line-height:30px;padding-left:15px;
            i{
                margin-left:15px;
                font-size:16px;
                vertical-align:-2px;
                cursor:pointer;
            }
        }
        .history-box{
            padding:8px;
            height: calc(~"100% - 70px");
            overflow:hidden;
            overflow-y:auto;
            .history-name{
                color:#006efe;
            }
            .from-self {
                .history-name span {
                    color:#008040;
                }
            }
            .history-msg-show{
                word-break: break-all;
                padding:0 15px;

                .ec-qq-emoji {
                    width: 24px;
                    height: 24px;
                }

                img {
                    max-width: 100%;
                }
            }

            .history-date{
                padding:6px 35px 15px;
                color:#999999;
                text-align:center;
                &:after{
                    content:"";
                    display: block;
                    border-bottom:1px #e6e6e6 solid;
                    height:0;
                    margin-top:-12px;
                }
                span{
                    background:#fff;
                    padding:2px 5px;
                }
            }

            .audio{
                display: inline-block;
                min-width: 28px;
                max-width: 100%;
                background-color: #f0f0f0;
                border-radius: 3px;
                padding-left: 10px;

                .icon-audio {
                    display: inline-block;
                    width: 9px;
                    height: 12px;
                    background: url('../../images/audio-icon-gray.png') center no-repeat;
                }

                &.media-loading .icon-audio {
                    background: url('../../images/audio-icon-gray.png') center no-repeat;
                }
                &.media-loaded .icon-audio,
                &.media-played .icon-audio {
                    background: url('../../images/audio-icon.png') center no-repeat;
                }
                &.media-playing .icon-audio {
                    background: url('../../images/audio-icon.png') no-repeat;
                    animation: playAudio .6s infinite steps(3, start);
                }
            }
            .audio-duration{
                .size(50px, auto);
                font-size: 12px;
                color: #808080;
                margin-left: 10px;
            }
        }
        .history-page{
            position:absolute;
            bottom:0;
            left:0;
            width:100%;
            height:40px;
            line-height:40px;
            background:#f7f7f7;
            font-size:16px;
            padding-right:15px;
            text-align:right;
            i{
                margin:0 3px;
                cursor:pointer;
            }
            .disabled{
                color:#bcbcbc;
                cursor:default;
            }
        }
    }

    .faceCell{
        bottom: 134px;
        left: 240px;
        z-index:999;
        position:absolute;
        .dFace {
            background:url(../../images/face.png);
            width:456px;
            height:331px;
            padding:8px 11px;
            border-bottom:0;
            border-right:0;
            a {
                display:block;
                float:left;
                width:31px;
                height:31px;
                margin:0;
                &:hover{
                    border:1px solid #38f;
                }
            }
        }
    }

    .session-list {
        float:left;
        .size(240px, 100%);
        border-right: 1px solid @grayBorder;
        margin-top: 2px;

        h3 {
            .size(auto, 30px, 30px);
            padding-left: 14px;
            background: #f5f5f5;
            font-size: 12px;
            font-weight: normal;
        }
        .list-box{
            height: calc(~"100% - 30px");
            overflow:hidden;
            overflow-y:auto;
            position: relative;
        }
        .session-item {
            position: relative;
            height: 61px;
            padding: 6px 30px 6px 52px;
            border-bottom: 1px solid @grayBorder;
            cursor: pointer;

            .avatar {
                position: absolute;
                top: 12px;
                left: 14px;
                border-radius: 50%;
                background: #55bdf9;
            }
            .time {
                position: absolute;
                top: 6px;
                right: 7px;
                color: @grayText;
            }
            .abstract {
                .text-overflow();
                color: @grayText;

            }
            .unread-num {
                position: absolute;
                top: 32px;
                right: 11px;
                min-width: 16px;
                .size(auto, 16px, 16px);
                padding: 0 4px;
                border-radius: 8px;
                background: #ff6600;
                color: #fff;
                // text-align: center;
            }
            &:hover {
                background: #f4f4f4;
            }
            &.active {
                background: #d5e8fd;
            }
            a{
                color:#333;
            }
        }
    }

    .none-session, .empty-history {
        position: absolute;
        top: 50%;
        left: 50%;
        margin-left: -35px;
        margin-top: -48px;
        text-align: center;
        span {
            display: block;
            color: #ccc;
            font-size: 14px;
        }
    }


    .session-main {
        position: relative;
        .size(auto, 100%);
        margin-left: 240px;
        overflow:hidden;
        transition: margin-right 0.3s ease-in;
        &.show {
            display: block;
        }

        &.show-detail {
            margin-right: 240px;
        }

        &.nothing {
            width: calc(~"100% - 240px");
            // width: calc(~"100% - 240px");
            margin: 0;
            img {
            position: absolute;
            top: 50%;
            left: 50%;
            margin-left: -85px;
             margin-top: -42px;
            }
        }

        .session-header {
            position: relative;
            h2 {
                line-height: 35px;
                padding-left: 15px;
                font-size: 14px;
                border-bottom: 1px solid @grayBorder;
            }

            .change-cs {
                position: absolute;
                top: 3px;
                right: 10px;
            }
        }
        .visitor-path {
            position: relative;
            top: -1px;
            background: @white;

            .abstract {
                line-height: 12px;
                padding: 0 0 10px 15px;
                border-bottom: 1px solid @grayBorder;
                color: @grayText;


                a.path-link {
                    display: inline-block;
                    max-width: calc(~"100% - 105px");
                    .text-overflow();
                    margin: 0 16px;
                }
            }
            .path-detail {
                position: absolute;
                top: 25px;
                left: 0;
                right: 0;
                background: white;
                z-index: 1;

                table {
                    width: 100%;
                    table-layout : fixed;
                    border-collapse: collapse;

                    thead {
                        background: #f6f8fc;

                        th {
                            padding: 8px 0;
                            color: #525966;
                            font-weight: normal;
                        }

                        i {
                            font-weight: normal;
                        }
                    }
                    tbody {
                        tr {
                            border-bottom: 1px solid @grayBorder;

                            td {
                                padding: 13px 5px 7px;
                                line-height: 18px;
                                text-align: center;

                                .td-wrapper {
                                    width: 100%;
                                    .text-overflow();

                                    .link-url {
                                        .text-overflow();
                                    }
                                }

                                &.page-info {
                                    text-align: left;
                                }
                            }
                        }
                    }
                }
            }
            .scroll-wrapper {
                max-height: 188px;
                border-bottom: 1px solid @grayBorder;
                overflow: auto;
                box-shadow: 0 0 15px transparent,
                            0 0 15px transparent,
                            0 0 15px @grayBorder,
                            0 0 15px transparent;

            }
        }

        .session-input {
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            border-top: 1px solid @grayBorder;
            height:141px;
            background: white;
            .tools {
                .size(auto, 35px);
                line-height:35px;
                position:relative;
                a {
                    display: inline-block;
                    .size(20px, 20px);
                    margin-right: 15px;
                    font-size: 0;
                    overflow: hidden;
                }

                .emotion,.pic,.reply, .h5-form {
                    margin:8px 0px 0 13px;
                    background:url(../../images/msg-tool.png) no-repeat;
                }
                .emotion {
                    background-position:-37px -2px;

                    &:hover {
                        background-position: -37px -26px;
                    }
                }
                .pic {
                    background-position:-104px -2px;
                    cursor: pointer;

                    &:hover {
                        background-position: -104px -26px;
                    }

                    input {
                        .size(100px, auto);
                        opacity: 0;
                        filter: alpha(opacity=0);
                        float: right;
                        cursor:pointer;
                    }
                }
                .reply{
                    background-position:-133px -2px;

                    &:hover {
                        background-position: -133px -26px;
                    }
                }
                .h5-form {
                    background-position:-164px -2px;

                    &:hover {
                        background-position: -164px -26px;
                    }
                }
            }
            a.history{
                position: absolute;
                top: 5px;
                right: 8px;
                z-index: 2;
                .size(auto,20px);
                color:#333;
                line-height:20px;
                font-size:12px;

                &:hover {
                    color: #2580e6;

                    i {
                        color: #2580e6;
                        transition: color .3s ease;
                    }
                }

                i {
                    font-size:14px;
                    vertical-align:-1px;
                    margin-right:2px;
                }
            }
            textarea {
                .size(100%, 66px);
                border: none;
                resize: none;
                padding:0 10px;
                font-size: 14px;

                &:focus, &:active {
                    outline: 0;
                }
            }
            .btns {
                position: absolute;
                right: 10px;
                bottom: 10px;

                .send-btn {
                    &.btn-add-icon {
                        padding-left: 0;
                        padding-right: 0;

                        .btn-text {
                            padding-left: 10px;
                            padding-right: 10px;
                            height: 100%;
                            line-height: 30px;
                            display: inline-block;
                        }
                    }

                    .border-icon {
                        //margin-left: 5px;
                        // position: relative;
                        // top: 1px;
                        padding-left: 5px;
                        padding-right: 7px;
                        border-left: 1px solid rgba(255,255,255,0.2);
                        &:before {
                            top: 1px;
                            position: relative;
                        }
                    }
                }
            }
            .session-input-tip {
                position: absolute;
                top: 0;
                left: 0;
                .size(100%, 100%, 145px);
                text-align: center;
                z-index: 1;
                font-size: 14px;
                background: @white;
            }
            .session-tip {
                position: absolute;
                top: -29px;
                left: 0;
                .size(100%, 30px, 30px);
                padding: 0 14px;
                background: #f5f5f5;
                .text-overflow();
            }

        }
    }
    // .visitor-details {
    //     display: none;
    // }
}

// .msg-list-wrapper {
//     position: relative;
//     height: 342px;
//     height: calc(~"100% - 203px");
//     overflow-x: hidden;
//     overflow-y: auto;

//     &:hover {
//         .cover-bar {
//             opacity: 0;
//         }
//     }

//     .cover-bar {
//         position: absolute;
//         background: #fff;;
//         height: 100%;
//         top: 0;
//         right: 0;
//         width: 7px;
//         transition: all .3s;
//         opacity: 1;
//         z-index: 9;
//     }
// }

.msg-list {
    // height: 342px;
    padding: 12px 10px 32px;
    overflow-x: hidden;
    overflow-y: auto;
    //position: relative;

    &::-webkit-scrollbar-button:start:decrement,
    &::-webkit-scrollbar-button:end:increment {
        display: block;
    }

    &.web {
        height: calc(~"100% - 203px");
    }

    &.wx {
        height: calc(~"100% - 178px");
    }

    .new-msg{
        position: absolute;
        right: 10px;
        bottom: 150px;
        background: #f7f7f7;
        border: solid 1px #ddd;
        padding: 5px 15px;
        cursor: pointer;
        box-shadow: 1px 0px 10px 1px #ddd;
        display: none;
    }

    .history-tip {
        height: 24px;
        text-align: center;
        a {
            color: @blueText;
        }

        &.loading {
            .loading();
        }
    }
    ol {

        .custom-msg {
            color: @grayText;
            text-align: center;
        }

        .msg-item {
            position: relative;
            margin-top: 10px;

            .avatar {
                position: absolute;
                top: 3px;
                border-radius: 50%;
            }
            .msg-main {
                .clearfix();

                .msg-info {
                    color: @grayText;

                    .name {
                        margin-right: 12px;
                    }
                }
                .msg-content {
                    position: relative;
                    line-height: 24px;
                    border: 1px solid;
                    border-radius: 4px;
                    padding: 4px 10px;
                    font-size: 14px;
                    word-break: break-all;
                    min-height: 30px;

                    .ec-qq-emoji {
                        width: 24px;
                        height: 24px;
                    }
                    /* a {
                        line-height: 24px;
                    } */
                    &.image-content {
                        max-width: 50%;

                        a img {
                            display: block;
                            max-width: 100%;
                        }
                    }
                }
            }
            .msg-state {
                position: absolute;
                top: 14px;
                left: -24px;
                .size(16px, 16px);
                display: none;

                &.sending {
                    background: url('../../images/loading.gif') center no-repeat;
                    display: block;
                }
                &.faild {
                    border-radius: 50%;
                    color: @red;
                    cursor: pointer;
                    display: block;
                }
            }
        }
        .from-self {
            margin-left: 40px;

            .avatar {
                right: 0;
            }

            .msg-main {
                margin-right: 40px;

                .msg-info {
                    float: right;
                }
                .msg-content {
                    clear: right;
                    float: right;
                }
                .msg-content {
                    background: @blueTextBg;
                    border-color: @blueTextBg;

                    &:before {
                        content: '';
                        position: absolute;
                        top: 7px;
                        right: -12px;
                        border: 6px solid transparent;
                        border-left-color: @blueTextBg;
                    }
                    &:after {
                        content: '';
                        position: absolute;
                        top: 8px;
                        right: -10px;
                        border: 5px solid transparent;
                        border-left-color: @blueTextBg;
                    }
                }
            }
        }
        .from-other {
            margin-right: 40px;

            .avatar {
                left: 0;
            }

            .msg-main {
                margin-left: 40px;

                .msg-info {
                    float: left;
                }
                .msg-content {
                    clear: left;
                    float: left;
                }
                .msg-content {
                    .vertical-gradient(@white, #f8f8f8);
                    border-color: @grayBorderLight;
                    word-break: break-all;

                    &:before {
                        content: '';
                        position: absolute;
                        top: 7px;
                        left: -12px;
                        border: 6px solid transparent;
                        border-right-color: @grayBorderLight;
                    }
                    &:after {
                        content: '';
                        position: absolute;
                        top: 8px;
                        left: -10px;
                        border: 5px solid transparent;
                        border-right-color: @white;
                    }

                    .audio {
                        display: block;
                        min-width: 10px;
                        max-width: 200px;

                        .icon-audio {
                            display: inline-block;
                            width: 9px;
                            height: 12px;
                            background: url('../../images/audio-icon-gray.png') center no-repeat;
                        }

                        &.media-loading .icon-audio {
                            background: url('../../images/audio-icon-gray.png') center no-repeat;
                        }
                        &.media-loaded .icon-audio,
                        &.media-played .icon-audio {
                            background: url('../../images/audio-icon.png') center no-repeat;
                        }
                        &.media-playing .icon-audio {
                            background: url('../../images/audio-icon.png') no-repeat;
                            animation: playAudio .6s infinite steps(3, start);
                        }
                    }

                    .audio-state {
                        position: absolute;
                        top: 8px;
                        right: -24px;
                        .size(16px, 16px);
                        display: none;

                        &.media-loading {
                            background: url('../../images/loading.gif') center no-repeat;
                            display: block;
                        }
                        &.media-loading-faild {
                            border-radius: 50%;
                            color: @red;
                            cursor: pointer;
                            display: block;
                        }

                        &.media-loading-faild {

                        }
                        &.media-playing {

                        }
                        &.media-played {

                        }
                    }

                    .audio-duration {
                        .size(50px, auto);
                        font-size: 12px;
                        position: absolute;
                        left: calc(~"100% + 10px");
                        bottom: 0;
                        color: #808080;
                    }
                }
            }
        }
    }

}
.fast-reply{
    .size(465px, 330px);
    border:1px #d4deee solid;
    box-shadow: 0 2px 8px rgba(51,51,51,0.2);
    position:absolute;
    z-index:3;
    bottom: 111px;
    left: 343px;
    background: @white;

    .top-title{
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        padding: 5px 15px;
        color:#111;
        font-weight:bold;
        margin-bottom:3px;
        i{
            float:right;
            color:#999;
            font-size:14px;
            margin:5px 0 0 7px;
            cursor:pointer;
            &:hover {
                color: @blueText;
            }
        }
    }
    .reply-list {
        width: 128px;
        height: 100%;
        background-color: #f1f5f8;
        border-right: 1px solid #e5e6e8;
        float: left;

        ul {
            margin-top: 40px;
            height: 278px;
            overflow-y: auto;

            &::-webkit-scrollbar-track-piece:vertical:start {
                background:#f1f5f8;
            }
            &::-webkit-scrollbar-track-piece:vertical:end {
                background:#f1f5f8;
            }


            .sub-group {
                padding-left: 27px;
            }
            li{
                width:100%;
                white-space:nowrap;
                overflow:hidden;
                text-overflow:ellipsis;
                cursor:pointer;
                line-height: 26px;

                span, p {
                    color:#262626;
                }

                p {
                    padding-left: 15px;
                    .text-overflow();
                }
                .anticon-right{
                    color:#388be8;
                    cursor:pointer;
                    margin-right:5px;
                }
            }
            .open{
                & > p .anticon-right{
                    transform:rotate(90deg);
                }
                & > ul{
                    display: block;
                }
            }
            .selected {
                p, p span {
                    color: #fff;
                }
                background-color: #2480e5;
            }

            .hot-group {
                p > i {
                    visibility: hidden;
                }
            }
        }
    }
    .reply-items {
        float: left;
        width: 318px;
        height: 278px;
        margin: 40px 4px 10px 13px;
        overflow: auto;
        position: relative;

        .empty-reply {
            height: 100%;

            .empty-wrapper {
                text-align: center;
                position: absolute;
                top: 44%;
                left: 47%;
                transform: translate(-44%, -47%);

                p {
                    color: #a6a6a6;
                }
            }
        }

        li {
            height: 30px;
            line-height: 30px;
            padding-left: 13px;
            .text-overflow();
            cursor: pointer;

            &:hover {
                background-color: #eaeef1;
            }
        }
    }
}
.h5-from-modal {
    margin-top: -90px;

    .ant-modal {
        padding-bottom: 0;
    }

    .ant-modal-body {
        padding: 0
    }
}

@keyframes playAudio {
    0% {
        width: 0px;
    }
    100% {
        width: 9px;
    }
}

.preview-pasteimg-modal {
    .ant-modal-body {
        padding: 20px;
    }
}
